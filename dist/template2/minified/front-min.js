if(void 0===window.Persistence){var e="github.com/SimonLammer/anki-persistence/",t="_default";if(window.Persistence_sessionStorage=function(){var n=!1;try{"object"==typeof window.sessionStorage&&(n=!0,this.clear=function(){for(var t=0;t<sessionStorage.length;t++){var n=sessionStorage.key(t);0==n.indexOf(e)&&(sessionStorage.removeItem(n),t--)}},this.setItem=function(n,i){null==i&&(i=n,n=t),sessionStorage.setItem(e+n,JSON.stringify(i))},this.getItem=function(n){return null==n&&(n=t),JSON.parse(sessionStorage.getItem(e+n))},this.removeItem=function(n){null==n&&(n=t),sessionStorage.removeItem(e+n)},this.getAllKeys=function(){for(var t=[],n=Object.keys(sessionStorage),i=0;i<n.length;i++){var s=n[i];0==s.indexOf(e)&&t.push(s.substring(e.length,s.length))}return t.sort()})}catch(e){}this.isAvailable=function(){return n}},window.Persistence_windowKey=function(n){var i=window[n],s=!1;"object"==typeof i&&(s=!0,this.clear=function(){i[e]={}},this.setItem=function(n,s){null==s&&(s=n,n=t),i[e][n]=s},this.getItem=function(n){return null==n&&(n=t),null==i[e][n]?null:i[e][n]},this.removeItem=function(n){null==n&&(n=t),delete i[e][n]},this.getAllKeys=function(){return Object.keys(i[e])},null==i[e]&&this.clear()),this.isAvailable=function(){return s}},window.Persistence=new Persistence_sessionStorage,Persistence.isAvailable()||(window.Persistence=new Persistence_windowKey("py")),!Persistence.isAvailable()){var i=window.location.toString().indexOf("title"),n=window.location.toString().indexOf("main",i);i>0&&n>0&&n-i<10&&(window.Persistence=new Persistence_windowKey("qt"))}}var isMobile=0!==document.getElementsByClassName("mobile").length,isDesktop=!isMobile,Debug=document.getElementById("multiple-choice-debug");function init(e){let t=parseChoices(),n=document.getElementsByClassName("multiple-choice-button");if(!Persistence.isAvailable())return void log("Persistence not available: multiple choices will not work.");if(t.length<n.length)return void log("Not enough choices: You wanted to generate "+n.length+" choices yet the field contains "+t.length+" choices.");let i=randomInt(0,n.length-1);n[i].innerHTML=s(0),Persistence.setItem("correctButton",i);for(let o=0;o<n.length;o++){let l=n[o];isMobile?l.addEventListener("touchstart",e):isDesktop&&l.addEventListener("click",e),o!==i&&(l.innerHTML=s(randomInt(0,t.length-1))),l.setAttribute("Index",o),Persistence.setItem(l.getAttribute("Index"),l.innerHTML)}function s(e){return t.splice(e,1)[0]}}function log(e){null!==Debug&&null!=Debug&&(Debug.innerHTML+=e+"<br>")}function randomInt(e,t){let n=0;return t>=e&&(n=Math.floor(Math.random()*(t-e)+e+.5)),n}function parseChoices(){return document.getElementById("multiple-choice-choices").innerHTML.split("<br>")}function selectButton(){Persistence.setItem("choosenButton",this.getAttribute("Index"));for(let e of document.getElementsByClassName("multiple-choice-selected"))e.classList.remove("multiple-choice-selected");this.classList.add("multiple-choice-selected")}init(selectButton);